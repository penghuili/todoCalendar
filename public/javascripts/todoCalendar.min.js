!function(){function t(t,e){t.when("/",{templateUrl:"home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/todo",{templateUrl:"todo/todo.view.html",controller:"todoCtrl",controllerAs:"vm"}).when("/todo/add",{templateUrl:"todoAdd/todoAdd.view.html",controller:"todoAddCtrl",controllerAs:"vm"}).when("/calendar",{templateUrl:"calendar/calendar.view.html",controller:"calendarCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"}),e.html5Mode(!0)}angular.module("todoCalendar",["ngRoute"]),t.$inject=["$routeProvider","$locationProvider"],angular.module("todoCalendar").config(["$routeProvider","$locationProvider",t])}(),function(){function t(t){var e=this,n=JSON.parse(localStorage.getItem("withDate"));e.date=new Date,e.init=function(){var a=t.getTasks(n,[t.parseDate(e.date)]);a.forEach(e.addTask)},e.change=function(){$(".taskItem").remove(),e.init()},e.addTask=function(t){var n=t.beginTime.split(" "),a=t.endTime.split(" "),o=e.getTop(n),r=e.getHeight(n,a),i=e.getRandomColor(),c=$("<div class=taskItem></div>").css({background:"rgba(127,255,212,0.5)",width:"93%",height:r+"px","line-height":r+"px",border:"1px solid rgb("+i[0]+","+i[1]+","+i[2]+")",position:"absolute",top:o+"px",left:"70px","z-index":"1"}),l=$("<input type=checkbox checked>");t.completed||l.removeAttr("checked"),c.html([l,"&nbsp;",t.name]);var d=$("#taskBox");d.prepend(c)},e.getTop=function(t){var n=e.getHourAndMinute(t),a=2*n[0]*41+2+82*n[1]/60;return a},e.getHeight=function(t,n){var a=e.getTop(t),o=e.getTop(n);return o-a-3},e.getHourAndMinute=function(t){var e=t[0].split(":"),n=Number(e[0]),a=Number(e[1]);return"PM"===t[1]&&(n+=12),[n,a]},e.getRandomColor=function(){var t=e.getRandomNum(),n=e.getRandomNum(),a=e.getRandomNum();return[t,n,a]},e.getRandomNum=function(){return Math.floor(255*Math.random()+1)}}angular.module("todoCalendar").controller("calendarCtrl",t),t.$inject=["utils"]}(),function(){function t(){var t=this;t.title="TodoCalendar"}angular.module("todoCalendar").controller("homeCtrl",t)}(),function(){function t(t){var e=this;e.init=function(){var n=new Date,a=JSON.parse(localStorage.getItem("inbox"))||[],o=JSON.parse(localStorage.getItem("withDate"))||{},r=[t.parseDate(n)],i=t.getUpcomingArr(n,3),c=Object.keys(o).sort().reverse();e.inboxs=t.getTasks(a,[],!1),e.todays=t.getTasks(o,r,!1),e.upcomings=t.getTasks(o,i,!1),e.completeds=t.getTasks(o,c,!0).concat(t.getTasks(a,[],!0)).sort(function(t,e){return e.checkedOn-t.checkedOn}),e.alls=t.getTasks(o,c,!1).concat(t.getTasks(a,[],!1)).sort(function(t,e){return e.createdOn-t.createdOn})},e.change=function(t){var n;"inbox"===t?(n=e.getChecked(e.inboxs,!0),e.saveStatusInInbox(n,!0)):"today"===t?(n=e.getChecked(e.todays,!0),e.saveStatusInWithDate(n,!0)):"upcoming"===t?(n=e.getChecked(e.upcomings,!0),e.saveStatusInWithDate(n,!0)):"all"===t?(n=e.getChecked(e.alls,!0),n.beginDate?e.saveStatusInWithDate(n,!0):e.saveStatusInInbox(n,!0)):"completed"===t&&(n=e.getChecked(e.completeds,!1),n.beginDate?e.saveStatusInWithDate(n,!1):e.saveStatusInInbox(n,!1)),e.init()},e.getChecked=function(t,e){return t.filter(function(t){return t.completed===e})[0]},e.saveStatusInInbox=function(t,e){var n=JSON.parse(localStorage.getItem("inbox"))||[],a=n.filter(function(e){return e.createdOn===t.createdOn})[0];a.completed=e,a.checkedOn=(new Date).getTime(),localStorage.setItem("inbox",JSON.stringify(n))},e.saveStatusInWithDate=function(t,e){var n=JSON.parse(localStorage.getItem("withDate"))||{},a=t.beginDate.split("/"),o=a[2]+a[0]+a[1],r=n[o].filter(function(e){return e.createdOn===t.createdOn})[0];r.completed=e,r.checkedOn=(new Date).getTime(),localStorage.setItem("withDate",JSON.stringify(n))}}angular.module("todoCalendar").controller("todoCtrl",t),t.$inject=["utils"]}(),function(){function t(t,e){var n=this;n.newTask="",n.begin={liStatus:"active",date:"Begins on:",dateRaw:"",time:"Begins at:",timeRaw:"",contentStatus:"tab-pane active"},n.end={liStatus:"",date:"Ends on:",dateRaw:"",time:"Ends at:",timeRaw:"",contentStatus:"tab-pane"},n.clickEnd=function(){n.end.liStatus="active",n.end.contentStatus="tab-pane active",n.begin.liStatus="",n.begin.contentStatus="tab-pane"},n.clickBegin=function(){n.begin.liStatus="active",n.begin.contentStatus="tab-pane active",n.end.liStatus="",n.end.contentStatus="tab-pane"},n.onSubmit=function(){!n.newTask||n.begin.dateRaw&&n.begin.timeRaw&&n.end.dateRaw&&n.end.timeRaw?n.saveToWithDate():n.saveToInbox()},n.saveToInbox=function(){var e=JSON.parse(localStorage.getItem("inbox"))||[];e.unshift({name:n.newTask,createdOn:(new Date).getTime(),completed:!1}),localStorage.setItem("inbox",JSON.stringify(e)),t.path("/todo")},n.saveToWithDate=function(){var a=JSON.parse(localStorage.getItem("withDate"))||{},o=e.parseDate(new Date(n.begin.dateRaw)),r=e.parseTime(new Date(n.begin.timeRaw)),i=e.parseDate(new Date(n.end.dateRaw)),c=e.parseTime(new Date(n.end.timeRaw));a[o]||(a[o]=[]),a[o].unshift({name:n.newTask,createdOn:now,completed:!1,beginDate:o,beginTime:r,endDate:i,endTime:c}),localStorage.setItem("withDate",JSON.stringify(a)),t.path("/todo")}}angular.module("todoCalendar").controller("todoAddCtrl",t),t.$inject=["$location","utils"]}(),function(){function t(){var t=function(t){return t<10?"0"+t.toString():t.toString()},e=function(e){return e>12?[t(e-12),"PM"]:[t(e),"AM"]},n=function(t){var e=t.substring(0,4),n=t.substring(4,6),a=t.substring(6);return n+"/"+a+"/"+e},a=function(e){var n=e.getFullYear().toString(),a=t(e.getMonth()+1),o=t(e.getDate());return n+a+o},o=function(n){var a=e(n.getHours()),o=t(n.getMinutes());return a[0]+":"+o+" "+a[1]},r=function(t,e){for(var n=new Date(t),o=[],r=0;r<e;)n.setDate(n.getDate()+1),o.unshift(a(n)),r++;return o},i=function(t,e,n){var a=[],o=e.length,r=0,i=function(t){return t.completed===n};if(void 0===n&&(i=function(t){return!0}),t.length+1)a=t.filter(i);else for(r=0;r<o;r++)t[e[r]]=t[e[r]]||[],a=a.concat(t[e[r]].filter(i));return a};return{parseDate:a,parseTime:o,getUpcomingArr:r,getTasks:i,addSlash:n}}angular.module("todoCalendar").service("utils",t)}(),function(){function t(){return{templateUrl:"common/directive/footerGeneric/footerGeneric.view.html"}}angular.module("todoCalendar").directive("footerGeneric",t)}();