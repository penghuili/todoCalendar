!function(){function e(e,t){e.when("/",{templateUrl:"home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/todo",{templateUrl:"todo/todo.view.html",controller:"todoCtrl",controllerAs:"vm"}).when("/todo/add",{templateUrl:"todoAdd/todoAdd.view.html",controller:"todoAddCtrl",controllerAs:"vm"}).when("/calendar",{templateUrl:"calendar/calendar.view.html",controller:"calendarCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"}),t.html5Mode(!0)}angular.module("todoCalendar",["ngRoute"]),e.$inject=["$routeProvider","$locationProvider"],angular.module("todoCalendar").config(["$routeProvider","$locationProvider",e])}(),function(){function e(e){var t=this,n=JSON.parse(localStorage.getItem("withDate"));t.date=new Date,t.init=function(){var a=e.getTasks(n,[e.parseDate(t.date)]);a.forEach(t.addTask)},t.change=function(){$(".taskItem").remove(),t.init()},t.addTask=function(e){var n=e.beginTime.split(" "),a=e.endTime.split(" "),o=t.getTop(n),r=t.getHeight(n,a),i=t.getRandomColor(),l=$("<div class=taskItem></div>").css({background:"rgba(127,255,212,0.5)",width:"93%",height:r+"px","line-height":r+"px",border:"1px solid rgb("+i[0]+","+i[1]+","+i[2]+")",position:"absolute",top:o+"px",left:"70px","z-index":"1"}),d=$("<input type=checkbox checked>");e.completed||d.removeAttr("checked"),l.html([d,"&nbsp;",e.name]);var c=$("#taskBox");c.prepend(l)},t.getTop=function(e){var n=t.getHourAndMinute(e),a=2*n[0]*41+2+82*n[1]/60;return a},t.getHeight=function(e,n){var a=t.getTop(e),o=t.getTop(n);return o-a-3},t.getHourAndMinute=function(e){var t=e[0].split(":"),n=Number(t[0]),a=Number(t[1]);return"PM"===e[1]&&(n+=12),[n,a]},t.getRandomColor=function(){var e=t.getRandomNum(),n=t.getRandomNum(),a=t.getRandomNum();return[e,n,a]},t.getRandomNum=function(){return Math.floor(255*Math.random()+1)}}angular.module("todoCalendar").controller("calendarCtrl",e),e.$inject=["utils"]}(),function(){function e(){var e=this;e.title="TodoCalendar"}angular.module("todoCalendar").controller("homeCtrl",e)}(),function(){function e(e){var t=this,n=new Date,a=JSON.parse(localStorage.getItem("inbox"))||[],o=JSON.parse(localStorage.getItem("withDate"))||{},r=[e.parseDate(n)],i=e.getUpcomingArr(n,3),l=Object.keys(o).sort().reverse();t.inboxs=e.getTasks(a,[],!1),t.todays=e.getTasks(o,r,!1),t.upcomings=e.getTasks(o,i,!1),t.completeds=e.getTasks(o,l,!0).concat(e.getTasks(a,[],!0)).sort(function(e,t){return t.checkedOn-e.checkedOn}),t.alls=e.getTasks(o,l,!1).concat(e.getTasks(a,[],!1)).sort(function(e,t){return t.createdOn-e.createdOn}),t.inboxChange=function(){var e=t.inboxs.filter(function(e){return e.completed})[0],n=e.createdOn.toString(),o=a.indexOf(e);a[o].completed=!0,a[o].checkedOn=(new Date).getTime(),localStorage.setItem("inbox",JSON.stringify(a));var r=$("#"+n).parent().remove(),i=$("#inboxHead .badge");i.html(Number(i.html())-1);var l=$("#completed .list-group li:first-of-type");r.insertBefore(l);var d=$("#completedHead .badge");d.html(Number(d.html())+1)}}angular.module("todoCalendar").controller("todoCtrl",e),e.$inject=["utils"]}(),function(){function e(e,t){var n=this;n.newTask="",n.begin={liStatus:"active",date:"Begins on:",dateRaw:"",time:"Begins at:",timeRaw:"",contentStatus:"tab-pane active"},n.end={status:"",date:"Ends on:",dateRaw:"",time:"Ends at:",timeRaw:"",contentStatus:"tab-pane"},n.clickEnd=function(){n.end.liStatus="active",n.end.contentStatus="tab-pane active",n.begin.liStatus="",n.begin.contentStatus="tab-pane"},n.clickBegin=function(){n.begin.liStatus="active",n.begin.contentStatus="tab-pane active",n.end.liStatus="",n.end.contentStatus="tab-pane"},n.onSubmit=function(){n.inbox=JSON.parse(localStorage.getItem("inbox"))||[],n.withDate=JSON.parse(localStorage.getItem("withDate"))||{};var a=(new Date).getTime(),o=n.begin.dateRaw,r=n.begin.timeRaw,i=n.end.dateRaw,l=n.end.timeRaw;if(n.newTask&&(!o||!r||!i||!l))return n.inbox.unshift({name:n.newTask,createdOn:a,completed:!1}),localStorage.setItem("inbox",JSON.stringify(n.inbox)),void e.path("/todo");if(n.newTask&&o&&r&&i&&l){var d=t.parseDate(new Date(o)),c=t.parseTime(new Date(r)),u=t.parseDate(new Date(i)),s=t.parseTime(new Date(l));return n.begin.date=t.addSlash(d),n.begin.time=c,n.end.date=t.addSlash(u),n.end.time=s,n.withDate[d]||(n.withDate[d]=[]),n.withDate[d].unshift({name:n.newTask,createdOn:a,completed:!1,beginDate:n.begin.date,beginTime:n.begin.time,endDate:n.end.date,endTime:n.end.time}),localStorage.setItem("withDate",JSON.stringify(n.withDate)),void e.path("/todo")}}}angular.module("todoCalendar").controller("todoAddCtrl",e),e.$inject=["$location","utils"]}(),function(){function e(){var e=function(e){return e<10?"0"+e.toString():e.toString()},t=function(t){return t>12?[e(t-12),"PM"]:[e(t),"AM"]},n=function(e){var t=e.substring(0,4),n=e.substring(4,6),a=e.substring(6);return n+"/"+a+"/"+t},a=function(t){var n=t.getFullYear().toString(),a=e(t.getMonth()+1),o=e(t.getDate());return n+a+o},o=function(n){var a=t(n.getHours()),o=e(n.getMinutes());return a[0]+":"+o+" "+a[1]},r=function(e,t){for(var n=new Date(e),o=[],r=0;r<t;)n.setDate(n.getDate()+1),o.unshift(a(n)),r++;return o},i=function(e,t,n){var a=[],o=t.length,r=0,i=function(e){return e.completed===n};if(void 0===n&&(i=function(e){return!0}),e.length+1)a=e.filter(i);else for(r=0;r<o;r++)e[t[r]]=e[t[r]]||[],a=a.concat(e[t[r]].filter(i));return a};return{parseDate:a,parseTime:o,getUpcomingArr:r,getTasks:i,addSlash:n}}angular.module("todoCalendar").service("utils",e)}(),function(){function e(){return{templateUrl:"common/directive/footerGeneric/footerGeneric.view.html"}}angular.module("todoCalendar").directive("footerGeneric",e)}();